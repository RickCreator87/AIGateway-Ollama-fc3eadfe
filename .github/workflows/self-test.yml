#!/bin/bash
set -euo pipefail

echo "----------------------------------------"
echo "ğŸ” SELF-TEST: Starting environment checks"
echo "----------------------------------------"

# Check required commands
REQUIRED_CMDS=("git" "jq" "bash")

for cmd in "${REQUIRED_CMDS[@]}"; do
  if ! command -v "$cmd" >/dev/null 2>&1; then
    echo "âŒ ERROR: Required command '$cmd' is not installed."
    exit 1
  fi
done

echo "âœ… All required commands are available."

# Optional: Validate repo state
if ! git rev-parse --is-inside-work-tree >/dev/null 2>&1; then
  echo "âŒ ERROR: Not inside a Git repository."
  exit 1
fi

echo "ğŸ“ Git repository detected."

echo "----------------------------------------"
echo "ğŸ” SELF-TEST: Completed successfully"
echo "----------------------------------------"
exit 0
